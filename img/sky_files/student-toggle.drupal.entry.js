import{r as t,a as e,g as n,d as r,H as i,i as s,k as a,_ as o,h as c}from"./chunks/to-object-b8d98adc.js";import"./chunks/web.url-e01eb991.js";import"./chunks/es.array.index-of-20bf1542.js";import"./chunks/es.regexp.to-string-5800115b.js";import{f as u,r as l}from"./chunks/es.string.replace-8efccc2c.js";import"./chunks/create-property-7417731d.js";import"./chunks/es.array.sort-dada9153.js";import"./chunks/es.string.split-4010f968.js";var h=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};u("search",1,(function(n,r,i){return[function(e){var r=t(this),i=null==e?void 0:e[n];return void 0!==i?i.call(e,r):new RegExp(e)[n](String(r))},function(t){var n=i(r,t,this);if(n.done)return n.value;var s=e(t),a=String(this),o=s.lastIndex;h(o,0)||(s.lastIndex=0);var c=l(s,a);return h(s.lastIndex,o)||(s.lastIndex=o),null===c?-1:c.index}]}));var d=c.f,f=n.Symbol;if(r&&"function"==typeof f&&(!("description"in f.prototype)||void 0!==f().description)){var p={},g=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof g?new f(t):void 0===t?f():f(t);return""===t&&(p[e]=!0),e};i(g,f);var m=g.prototype=f.prototype;m.constructor=g;var v=m.toString,y="Symbol(test)"==String(f("test")),S=/^Symbol\((.*)\)[^)]+$/;d(m,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=v.call(t);if(a(p,t))return"";var n=y?e.slice(7,-1):e.replace(S,"$1");return""===n?void 0:n}}),o({global:!0,forced:!0},{Symbol:g})}
/*! (c) Andrea Giammarchi - ISC */var b={};try{!function(t,e){if(new t("q=%2B").get("q")!==e||new t({q:e}).get("q")!==e||new t([["q",e]]).get("q")!==e||"q=%0A"!==new t("q=\n").toString()||"q=+%26"!==new t({q:" &"}).toString()||"q=%25zx"!==new t({q:"%zx"}).toString())throw t;b.URLSearchParams=t}(URLSearchParams,"+")}catch(t){!function(t,e,n){var r=t.create,i=t.defineProperty,s=/[!'\(\)~]|%20|%00/g,a=/%(?![0-9a-fA-F]{2})/g,o=/\+/g,c={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},u={append:function(t,e){f(this._ungap,t,e)},delete:function(t){delete this._ungap[t]},get:function(t){return this.has(t)?this._ungap[t][0]:null},getAll:function(t){return this.has(t)?this._ungap[t].slice(0):[]},has:function(t){return t in this._ungap},set:function(t,n){this._ungap[t]=[e(n)]},forEach:function(t,n){var r=this;for(var i in r._ungap)r._ungap[i].forEach(s,i);function s(s){t.call(n,s,e(i),r)}},toJSON:function(){return{}},toString:function(){var t=[];for(var e in this._ungap)for(var n=g(e),r=0,i=this._ungap[e];r<i.length;r++)t.push(n+"="+g(i[r]));return t.join("&")}};for(var l in u)i(h.prototype,l,{configurable:!0,writable:!0,value:u[l]});function h(t){var e=r(null);switch(i(this,"_ungap",{value:e}),!0){case!t:break;case"string"==typeof t:"?"===t.charAt(0)&&(t=t.slice(1));for(var s=t.split("&"),a=0,o=s.length;a<o;a++){var c=(u=s[a]).indexOf("=");-1<c?f(e,p(u.slice(0,c)),p(u.slice(c+1))):u.length&&f(e,p(u),"")}break;case n(t):for(a=0,o=t.length;a<o;a++){var u;f(e,(u=t[a])[0],u[1])}break;case"forEach"in t:t.forEach(d,e);break;default:for(var l in t)f(e,l,t[l])}}function d(t,e){f(this,e,t)}function f(t,e,r){var i=n(r)?r.join(","):r;e in t?t[e].push(i):t[e]=[i]}function p(t){return decodeURIComponent(t.replace(a,"%25").replace(o," "))}function g(t){return encodeURIComponent(t).replace(s,m)}function m(t){return c[t]}b.URLSearchParams=h}(Object,String,Array.isArray)}!function(t){var e=!1;try{e=!!Symbol.iterator}catch(t){}function n(t,n){var r=[];return t.forEach(n,r),e?r[Symbol.iterator]():{next:function(){var t=r.shift();return{done:void 0===t,value:t}}}}"forEach"in t||(t.forEach=function(t,e){var n=this,r=Object.create(null);this.toString().replace(/=[\s\S]*?(?:&|$)/g,"=").split("=").forEach((function(i){i.length&&!(i in r)&&(r[i]=n.getAll(i)).forEach((function(r){t.call(e,r,i,n)}))}))}),"keys"in t||(t.keys=function(){return n(this,(function(t,e){this.push(e)}))}),"values"in t||(t.values=function(){return n(this,(function(t,e){this.push(t)}))}),"entries"in t||(t.entries=function(){return n(this,(function(t,e){this.push([e,t])}))}),e&&!(Symbol.iterator in t)&&(t[Symbol.iterator]=t.entries),"sort"in t||(t.sort=function(){for(var t,e,n,r=this.entries(),i=r.next(),s=i.done,a=[],o=Object.create(null);!s;)e=(n=i.value)[0],a.push(e),e in o||(o[e]=[]),o[e].push(n[1]),s=(i=r.next()).done;for(a.sort(),t=0;t<a.length;t++)this.delete(a[t]);for(t=0;t<a.length;t++)e=a[t],this.append(e,o[e].shift())}),function(e){var n=e.defineProperty,r=e.getOwnPropertyDescriptor,i=function(e){var n=e.append;e.append=t.append,URLSearchParams.call(e,e._usp.search.slice(1)),e.append=n},s=function(t,e){if(!(t instanceof e))throw new TypeError("'searchParams' accessed on an object that does not implement interface "+e.name)},a=function(a){var o,c,u=a.prototype,l=r(u,"searchParams"),h=r(u,"href"),d=r(u,"search");!l&&d&&d.set&&(c=function(e){function r(n,r){t.append.call(this,n,r),n=this.toString(),e.set.call(this._usp,n?"?"+n:"")}function i(n){t.delete.call(this,n),n=this.toString(),e.set.call(this._usp,n?"?"+n:"")}function s(n,r){t.set.call(this,n,r),n=this.toString(),e.set.call(this._usp,n?"?"+n:"")}return function(t,e){return t.append=r,t.delete=i,t.set=s,n(t,"_usp",{configurable:!0,writable:!0,value:e})}}(d),o=function(t,e){return n(t,"_searchParams",{configurable:!0,writable:!0,value:c(e,t)}),e},e.defineProperties(u,{href:{get:function(){return h.get.call(this)},set:function(t){var e=this._searchParams;h.set.call(this,t),e&&i(e)}},search:{get:function(){return d.get.call(this)},set:function(t){var e=this._searchParams;d.set.call(this,t),e&&i(e)}},searchParams:{get:function(){return s(this,a),this._searchParams||o(this,new URLSearchParams(this.search.slice(1)))},set:function(t){s(this,a),o(this,t)}}}))};try{a(HTMLAnchorElement),/^function|object$/.test(typeof URL)&&URL.prototype&&a(URL)}catch(t){}}(Object)}(b.URLSearchParams.prototype);var w=b.URLSearchParams;class StudentToggle{constructor(t){this.studentLocationUrl=t,this.localStorage=window.localStorage,this.parameterName="studentType",this.validTypes=["domestic","international"],this.parameterNameConfirmed="studentTypeConfirmed"}init(){const t=new w(window.location.search).get(this.parameterName),e=this.localStorage.getItem(this.parameterName);let n="domestic",r=!1;t&&this.validTypes.includes(t)?n=t:e&&this.validTypes.includes(e)?(n=e,r=!0):fetch(this.studentLocationUrl).then((t=>t.json())).then((t=>{n=t.studentType,this.setStudentType(n),this.localStorage.removeItem(this.parameterNameConfirmed),this.confirmStudentType()})),this.setStudentType(n),r&&this.confirmStudentType()}setStudentType(t){if(t&&this.validTypes.includes(t)){new w(window.location.search).set("studentType",t),this.localStorage.setItem(this.parameterName,t),"domestic"===t&&(document.documentElement.classList.add("student-toggle--domestic"),document.documentElement.classList.remove("student-toggle--international")),"international"===t&&(document.documentElement.classList.add("student-toggle--international"),document.documentElement.classList.remove("student-toggle--domestic")),document.documentElement.classList.remove("student-toggle--unprocessed");const e=new CustomEvent("cduStudentTypeSet",{detail:t});document.dispatchEvent(e)}}confirmStudentType(){if("true"===this.localStorage.getItem(this.parameterNameConfirmed))return;const t=document.querySelector('[aria-controls="student-type-modal"]');t&&(t.click(),this.localStorage.setItem(this.parameterNameConfirmed,"true"))}}(({behaviors:t},{studentLocationUrl:e})=>{t.cdu_studentToggle={attach:t=>{const n=document.querySelector("body:not(.location-processed)");n&&(window.studentToggle=new StudentToggle(e),window.studentToggle.init(),n.classList.add("location-processed"));const r=t.querySelectorAll("[data-student-toggle]");r&&r.forEach((t=>t.addEventListener("click",(t=>{const e=t.currentTarget.getAttribute("data-student-toggle");window.studentToggle.setStudentType(e)}))))}}})(Drupal,drupalSettings);
